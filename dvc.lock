schema: '2.0'
stages:
  get_features:
    cmd: python3 scripts/data_scripts/get_features.py data/raw/train.csv
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: fe07a524dd7e68ff4a8d53b2373c3e18
      size: 3905076
    - path: scripts/data_scripts/get_features.py
      hash: md5
      md5: cb604fe8c1e7a9aca7ab5e7b6e64998e
      size: 1032
    outs:
    - path: data/stage1
      hash: md5
      md5: 32210ed45fcd5b774e6d058722d63a41.dir
      size: 662867
      nfiles: 1
  fill_na:
    cmd: python3 scripts/data_scripts/fill_na.py data/stage1/train.csv
    deps:
    - path: data/stage1/train.csv
      hash: md5
      md5: 0f444e8fbf661f95b8a7227e4f34c3c7
      size: 662867
    - path: scripts/data_scripts/fill_na.py
      hash: md5
      md5: f933d8118d07a4dae06f6824b3b89c4b
      size: 1610
    outs:
    - path: data/stage2
      hash: md5
      md5: 335abe89f5283b5d0f0911a5a8b06d89.dir
      size: 565184
      nfiles: 1
  change_text_to_numeric:
    cmd: python3 scripts/data_scripts/change_text_to_numeric.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      hash: md5
      md5: 2242ff1e1dfaae0c6860c9c72aae3091
      size: 565184
    - path: scripts/data_scripts/change_text_to_numeric.py
      hash: md5
      md5: c90e83aaa05a81cfae12b5f5d99bb515
      size: 1419
    outs:
    - path: data/stage3
      hash: md5
      md5: cde0c81fd28cee6288c65fca4c415bc2.dir
      size: 417390
      nfiles: 1
  text_to_numeric:
    cmd: python3 scripts/data_scripts/change_text_to_numeric.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      hash: md5
      md5: 2242ff1e1dfaae0c6860c9c72aae3091
      size: 565184
    - path: scripts/data_scripts/change_text_to_numeric.py
      hash: md5
      md5: c90e83aaa05a81cfae12b5f5d99bb515
      size: 1419
    outs:
    - path: data/stage3
      hash: md5
      md5: cde0c81fd28cee6288c65fca4c415bc2.dir
      size: 417390
      nfiles: 1
  split:
    cmd: python3 scripts/data_scripts/train_test_split.py data/stage3/train.csv
    deps:
    - path: data/stage3/train.csv
      hash: md5
      md5: 265ba65c9a4570490f0ce0cc5c4d27f2
      size: 417390
    - path: scripts/data_scripts/train_test_split.py
      hash: md5
      md5: 46f926ceed61e51d281d09978b837d8f
      size: 950
    params:
      params.yaml:
        split.split_ratio: 0.3
  train:
    cmd: python3 scripts/model_scripts/dt.py data/stage4/train.csv model.pkl
    deps:
    - path: data/stage4/train.csv
      hash: md5
      md5: 1bb9bfab5465d9b932cf5890392b4d88
      size: 292245
    - path: scripts/model_scripts/dt.py
      hash: md5
      md5: ccf42454413e2cc1c9d3d3bfa8f8b109
      size: 725
    params:
      params.yaml:
        train.max_depth: 3
        train.seed: 42
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 21f3b3819a2fb817bd2ac87ee10af667
      size: 4119
  evaluate:
    cmd: python3 scripts/model_scripts/evaluate.py data/stage4/test.csv models/model.pkl
    deps:
    - path: data/stage4/test.csv
      hash: md5
      md5: c23c8afc2ddbe017130f0dacedb5fc1b
      size: 125129
    - path: models/model.pkl
      hash: md5
      md5: 21f3b3819a2fb817bd2ac87ee10af667
      size: 4119
    - path: scripts/model_scripts/evaluate.py
      hash: md5
      md5: 716d144619335c2eaf78b3a770bee98a
      size: 565
    outs:
    - path: evaluate/score.json
      hash: md5
      md5: 588158ccd9ad07d2bbb0aac7a86b8b7a
      size: 30
